-- background menu
gfx="00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000099922999999999990a290000100099992299229200090000aaa1aaaa9aaa00a9ba00aaaaaaaa000a9a00aaaaaaaa000b00000000000000000000000000000000ab90cbcbccbbbbbbd9bb0000bb00bbbbbbbbbbbb01dab000bbbbcbbbccbbadbbcbd0bbbbbbbb00acbbf9bbbbbbcb000000000000000000000000000000000000e200252022522523b122000d0cd0222252255552bd15dd00522155555325d125bbae222d2215c0ba53dd52550d25000000000000000000000000000000000000d200232055152551155302eb50cc531555515523c0550dcc53523553530215259adc532c5550bcb2524c25550d55000000000000000000000000000000000000d2002542225532235450abb253cb555222525455d0332cda2555525253355253b2d3252c5550cdc0554d55550d55000000000000000000000000000000000000d20032325522255553549bb255cd035525345355c3552cca5225525215455535b2d5325c5545bcb2554d33550e55000000000000000000000000000000000000d2005535553555433535abc555cd452543202353d5523cd95555555535555323a1d4332b3503bc43335d52450d55000000000000000000000000000000000000d20033555355545553359bc355cd523233345553d5532ddb5355444553442535a9d3225c2535ad22332d23520d55000000000000000000000000000000000000d2003535cdc45ddd5533abc533cdc535ddcc53dcd5323cca4253bbb43bbb3535b2d4555c5323dc35253d35430d45000000000000000000000000000000000000d200245599d53d225324acc553ddc35499ab34ccd5455dda3535a9d42c2b3553b9d4535c5555c352353c32450d53000000000000000000000000000000000000d20035352bd55d225434bbc353cdb445a12a32ddd5555dcb453599d33ab02335b2d4555c4533c353344552420d33000000000000009000000000000000000000d20053459bd32d024354bbc335cdb445029b33cdd3535dda353520d43ba94543a9d3423d3443e244455535f50d3400000000000002aa00000000000000000000c2004435abc42d123434bbc544cdb45429ab54ddd2355ccb3554a1d44aba4535bad4545d3345c335355343f50d5400000000900009ab00000000000000000000c2003543abd45d2a3445ddc334cdc53329bb43cdd5353cdb3444a2df4abb43f4b9d4334c43f34f5554f543450d4400000000a100299b00000000000000000000d2004343bbd43d2bf543cdc444ddbf459abb23cdd3253dda543399df3acb344fbad4443d344343f3f35344430d4400000000b100929b09000000000000000000d2004544acd43d9a5335bccf44ddd453ab9c33ddd4342dcb543492d4fbbdf444bad2445d5c33433f4f5544430d3500000000b200a22a29210000000000000000d2004344ccd34d9bff53cdc942cdd4f3aabc34ddd3343ccc2f44c9dffccb0444cbdbf09d3d435334553f543f0d4400000000a900a92a99290000000000000000d200f254bcd43dbb21f3cdda2addc4332bbc43ddd44f4cdbf434bbdffcdb9244bbdb22ad5d45f5444334f3440d35000000009a00ab999a290000000000000000d200243fbcd45dbbaa1fdcda9addc3f2bbbc5fddd3433ddc4443bbdffcdcaa92cadb2aad4c594344434553440d4300000000ab10aba9a9220000000000000000d2001f44dcdf5dbbbbb1dddbaaddd30abacc54ded5445dcdf344bae41dddbba9dbdba9bdddaa3f52f3ff34340e4400000000ab10abb9a9920000000000000000d20042f4cddf2ebcbbbbdbdabbddc9bababd54dee4435ecdf5ffcaefacecbbabdbebbbbdbdbb4f4f4444f4440e44001100009a209bb299a20000000000000000d2003f34dcdfaebdbbbbcdebbbdecaaabccd5fdeef433ecc4345cbefaddebbbadcebbbbdddbb4f49444543341ef31111000029902baa29a90000000000000000d2005ff2dddfbebdbbbbdbebbbdedbbbbdcc5fdee4435eccf54fdbefaddc9bbbcbeccbbedeab45bb444443fe1e34111100012aa02aab19ab0000000000000000d2005343ddefaebdbbcbcdebbbdedbabbcdd33eee4f43ecd434fdbe4bdddcbbbdcecbbbeeebb2abb3f5ff44d1e43111101119ab199bb219b0000000000000000e2004f44ececbecdcbbbddebcbeedaccccdd54eef44f3ecdf44fdbefbdddcbbbddecbbaedecbbacc4f42f4fe1ef4111111119bb1a9ab929a0000000000000000d200bf54edecbedccbbbddfbcceedbccbdce3fcef44ffedd2f45dbebdedcccbbdcecccbebfcbbbcde3abfffe1ef311111111bbb1b99aa92a0000000000000000e200bb43eceabecdabbbddfbcceedcccceee39def3ff4ecdb2ffddebdeeeccbbddebccce2fbcbcbeebbbf4fe1e4411111111ba999aaaaa290000000000000000e900b9bfddebaf2ddccbddfccceedcccddedbbdef4f1fecebb14ddebceddbedcddedddde2fbcbdbfeacbf4fe1e4f11111111a99babaa9b920000000000000000e900bbb9edebbfbaccccecfcddeedddda9afbcdef39b1fbeccbbb2fcbee9ddddcdfdcccf1fcccccfecccf49e1e4f1111a111ba9b9bba9aa20000000000000000e911bbbbbdfbbafedcbcddfdddeeddddacfdbcdef9bbbfbdccccbafcdddfddddddfcdddf9fcccdeecedd1bbe2e4f1112b911ab9b2aba9ab90000111000001100e911cccbfbfacccdedddddfdddeeeedcefcccdedfcbcbfbecdcdfbfdeedcddddddecdeef9fdeddecbfbccbce2ef11122bb22abab29ba2aba0000111100111111e911bcccbfebddcdddddddfdedeedddeedddddeffcccdecddcdddfedddedddddcdfcdddfafdcddfbafcdcbdf2f1c2222bb929aab99ab19ab1100111111111111f911cbc9dbeccccdcdddcdfcdeeeddddededddeefbddeecddedeeefeedededeedcfceddfafddcdfbcdddccbf2fcc2222bba2a29aab9a92991110111111111111f911cbbdcccccddcddddddfddeeeedeeededdceeffbebfccdcddddddedeeeebdabefedcfafdddeebcceebbcf2fcc2222bbb22299bba9299a1111111111111111e911cccdcddcddddddeed9fddefeeeeeedeeedeecffdfedcdeddeeedededfdeef9beeeeeafdddedbbbfccccf2fcc2222bbb9b229abba92991111111111111111e911ddddeddcdddcddde9ffcefebeeeeedeeedceddefdddcdfefeeededdddfddddabdeefafdedecbcbeddcdf2fcc2222ab9bab29a9bb9a991111111111111111e911cdddeeeeeeeedeeeecfffdbbdeeedeeeffeebdeddddccffdeedddeddbcfecccadeedafdedfbbdccecddf2fbc2299a9abbba99a9b29ab1111111111111111f911cdddeeeeedeefdeddddebbdddeefefeecffecddeddbcfeddfeeefded9abfcba9fedcafeebfbbcdbfcccf9fbc999999bbbbb9aa9b229b1111111111111111e911deedefeeeeecdfeecddeadbcefeb3343ed43bcddcb9bddcdeeefefde99abba99edccafdfdebbddafbcdf9fccb9999abbbbbab9a9212a1111111121111112f922eeebeeeddeeedcffcccd99bb2ec95300c355abbcbb99ddcbbefdbdfeaaaaaaaadccbaffeedcbddceddde9fcdba99aabb9abbbaba92191111111122212122ea22eedceeecfdeedddfbbdd999a332931253555aabbaaaacdbbffcdabcfbaaaabbbccbaaeedfdcbdddcddee9fdcbb99babba9bb9aaba92a1221112222222222ea22eeeeeeeedfedddddabbc9999559912554433aaa9bbaacbbaecdcaabcbbbbbbbbcbabacdcfdccdedacddeafcdbba9baabbaaba9abb99b2222222222222222ea22eeddbeeeecffbdec9aabaaaa135a35252255aa53bbbbbbbbbccbbbbbbbbbbbbbbabbbaccfdccdcccdedeafccbbbabb9abb9aba9baa2a2222222222222222ea22eceefdeedddfbccda99bbaaa223b52524333bb54bbbbbbbbbbaabbbbbbbbbbbbabbbbaabacdceddbeddeafbdbabaa9babba9bb2ab9a92222222222222222ea22eeeeefeedeedbacdaaa9bbab215b215220126239c766bbbbbbbbbbbbbbbbbbbbbbbbcbaabbbbddcbddeeafcdbbab9abaaba9a992bb292222222222222222ea22eeeeddfeccddababbaaabbbb212b2131a211513d7656bbc8ccbbccccbbbbbbbbbbbbbbbbbbbbcdcbdeeebfdeabaa9bbbabba9b99bba29222229922222222eb99fdeeddcfbbcdaabbbbbabbbb123c1131c900215f6625cdf7ccccccccccccbbbbcccbbbbcbbbbe9cbeeefafeebaaaaabb9bbb29a9aba19992999929929222eb99ffdfeedbbbbdbaabbbbbcbbb025c1300da1052546526df86ccccddddcccccbbcccccbbccbccbdeabeddebfcdbbaabaaa9bbb129a9ab29999999999999922eb99defedccdbbbbbbbbbbbbcccb15cc55204352525351558876ddddddddccddccccccccccccccccdcdbedfdbfdebbabbaab9abb29bb29a99999999999999999fb99dedfbcedbbbbbbbbccbbddcc227d25103230652520675666ddddddddcddddcccddddccccccccccbcefddbfdfbbbabbab92bb19bb12999999999999999999feaaddddbbcdbbbbbbbbcccbdddc01572001333576551588cd55ddddddddcddddddcddddccddcdddcbccfddcbfeebbbbbbaaa2ab12ab1129992999999999aaa9cfaadcddbbbcbbbbccbbdccc7ddd22060000111077650787fec2dddcdddddcddddddddddddddddddbccdddcccefebbbbabbaa92b21ab21129299aaa9a999aaaadeeabccdbbbbbbbbcccbddcc68dd56550022221077662f87edbaddcdddddddddddddddddddddddddccdddccbdfedabbbaabba92a229a22219299aaaaaaaaaaaadd9abbccbbbbbbbbcccbdddc668d56652567256577652877dba1ddcdddddddddeeddeeeeddddddddcdddccbceeddbbbbaaaba999229a92a929a9aaaaaaaaaaaadabababbbbbbcbccccccdddc256d22526555577776655677ba21dcecddddddddeeedefffddeeddddcdddcaccaddcbbbbaabbaa99a9aa999b9a99aaaaaaaabbaaabbbbbacccbbccccddccdddc215d876565576776665255662212cdcadccbddddfeeeffffdeeeddddddddacccbaccbbbbbaabba9abaaaa99aaa99bbb9aaaabbbbbbbbbbbacccbccccdddcddcd511c8766558f77665222666511229ca2babcddddffeeffffeeefddddddccccddcbaaabbbbaaabbabbbaaaa9aba99bba9babbdcbbbbbbcccbccccdcccdddddddd512c866657f86665555277661225b221ac1adddaffeeffffeeefdcdedcddddddbcccbbbbbbaabbbbbcbabaabaa9abcabbbbbcbabbbcecccdccccdddddddddddd515d766556662652655576662c5792111ab1ddbcfe3fffffeeffcddddcedcdccbcccbcbbcbbbbbbcbcccbbbbaaaacaabbbbbbaaacdeccddcdcccdddddddddddd12cd5655adec522195556599dc671111b19a4434ee53ffffefffcedeceddccedbbccbbccccbbccccbcccbbbbaab9cab9abbbbaaacdbbeddcccccdddddddddddd16dda252dfdc5219a9259bcbdc76111d31112345eed1feeefeefeddeceddccbeccccbbcccccbcccccccccbbbbabaabbaaabcaaaabbbbddcccdcedddddddddddd5cdd9a22ddcb221baa929abbd65911dd521105354dd0eee3eefefdeeefeeccccccccccccccccfcccccdeccccabaacbb9aaccabaabcbbcccbdceddddcdddddddd6dddb205ccb9121cba92cba935592dd4202b11525c12edd2eeeeeefeeeffccdbccccccccccccdfcccccbccccb9aabaa9abdcbaaabdcbcbbbbddcddcddddddddddddd2106ab9a111b9921acba2339dd3501ab21212101ddd4eeedffedefffcdd9ccccccccccccbedcccccccccba9aaba2bdcbaababcdbbbbbcccbdccbdddddddddddd109dba2110dcba919a9a3455dd5219aa22102400ddd3ddddfedeefffdddacccdccccccccbddcccccccccbaaabbb9dcbabbbbbbdcbbbbbbbbccbbdddddddddddd19ddb9010ddc9921599a3525dd759a2d10021324dddcddddeddddeffdddbccddcdddbccc2acbccc9ccccab9abbbacbaacbbcbabdbbbbbbbbbcdcbddcddd9ddddcddd9211bddc211134522252d86622dd2029d513ddddddddddddbdeedddcddddeefdbbcd29aacc92cccc9aaabbabbaa9ccccbaabbaabbbbbbb291dcbddd2dddddddd911bcccb252945355503d875cddd2922dc25ddddddddddddbbccddd2ddddacdeabbc2b9ada22dccda9aaabaaabbabbcbbbababbaccbbd25229cddddddddddddd112dbbb9021b525322348766dddd929ad2abddddddddddddbbbdca9addddcdddaaa921c9d912ddddaa9babaaababbbcaabaaabaa99dba121db2adddddddddddd11dda9200199312553428862dddd299baabbddddddddddddbbddaaabddcadddd9ccd211ab211ddddaa9aababbbabbcbbaabaabba212d1101ccbadddddddddddd256d9201053312524f558675ddd8a9ac2ab9ddddddddddddbcddabbbdc9adddd111d921aa202dddbaa9ab9bbbabacbaaaabbcaba21920211cccbdddccbdd7ddd5666501255252320f2317654ddd8a9ad9aaadddcddddddddcfedbbbbc29adddd91cd99ab9112cdcbb9aababbbabababaabab2bba22baa211ccbbdcccbbcd67cc105650113552320554556553dddeaabd9a9adddbddddddddfeddbbbc229bdcbabbddaa211111abaab9baabbba9baaaabaabb9a2b29abb201cbbbddccbbbc567c99121022335250543533b534ddde9bdd99a9ddb2ddddddddedddba9d22aba222a9aa19bb11122222baba9bbb9ababa9babbaa2ab221bb220bbbbcddcbbbc0266a9b91119235200353545ddf3ddeebddd29a9db22ddddddddecdd999d299a22222a9a111121191122aab9abba9ab9bbbbaaaba1ba291bb292bbbbbbcb4bbbb1561a2a0122515012005352eed3eeeedddd2a9aa2a2ddddddddcbcd929bfca92ade2222921211020001aabaaabba9b9babbba9b29bb191bba11bcbbbbbb44bb126521120112000021204aa5eeebeeefeeeeaaab9ba2ddcbddddbbcc29aadeda1c9a1211dfe9111a0000a9aaaabaa2baabbab9bb2aab29bab200cbbbbbbc34bb55521222010100005212ddcbfeedeeefdeeeb9acaa2ac92addddac01a99a9ccb11111111cbbc299ded92a9aaa9bab2bb9bb9abbb92ba29b2a1a2bbbbcccb33bb25521111111052211321edb5ffffffffdeeea9ad999b29aacddb901222bcc22a002921119222aa9babc9a9a9ba9aa2ab9baaabbbabbb29b191b1bbbbdcbb53cd12151111752123785135dc52ffeeefffddee2abd92ab9999acc2199a2a00d212299c2221bc99bca9022aaa99b999222baaabbabbbbba1bbb29b1bbbbbcbb55dc11222100d876553d5d14db51ffeeefffddeeabcd22a92229bb192ab12011dc119bdd922911aa11990211999abaa9922b9bbbbbbabbababbbb9b2bbbbbacb5cbb00256510ddd7434d6dd2ec52fffeffffddeebbdd19992292bc92aa1212299999cdddaa99b1aa112a092199aabaa92292bc299b9bbaa92bbbbbb1bbbbbaabbbbb01566220dcd834dd6dddeeb5feeeffefddeebddd299b9221d9299abba119da11dddda2ab1baa22a90299aaaaaba92929c299eedba9cdbbbcbbb19bba9a9bbbbb156b5210cd87dcbbddddcde6eedceeefceefcddd19bb29211299b9d91211dca1dddd29bdbbb929ab0112a9aa9ab922922229bbcda99abbcbbaa1a9aaaab9baba566b2100ab86dddcddddbbcdedcceeeedeeedccc2abc9a210a9a10000012a110dddcaadd2d9912ac0011aaab22aa2a22ba229a2baaa9ab99aa129a99aa99aaba67cc2102b875cbaadddd2156edc5dddeeeedbbbdabcca9229c99911100011111dcb2acdd019a11001000aaba9a2a2922bcdb2b9a29921222999929a9b922ddcc7ddd1005a752ddcbdddd2156ec62dcddddccbbcebcbba999bb9a1a9c11002221a222cddc92291a2211109aaa2299d92299ac9caa2292dcaadeeeabcdcdba12aba92100567520baaadddc1156d652ccbdcbbbbcddcbbbb929ba9a119a222022221222dc112c2a12bc1110299b2222ad229222bca9dcb2abcca22addcb21cd9922aaa9436a3ff4ddcadddd1156d622cbbdbbbbcdcbbbbbb29b99aa1211bcdc99ab9999a122b92c109a21112292122229ba2111a9c9abab21ac12922222992cbaaaabbb33ba3443cbaabcdd126bd521bbb8bbbbccbbbbbc92ab99abb222dddebccda99a129a02ab110022212222a11219de2111a11b111c221a229999a9a999bccb99aa435253f4ddc3bbbc026b7521bbb8bbbbbbbbbbcc9abca9a9e929bbcdccbb9abc19aa9ab2211292222222d91119bcaa01a200001a9221a9a9bbbab99aabcc102952215533bbc3bbbb056b6521bbb8bbbbbbbbdcbbaabb999adcaabbbcbbbbbbbb299aa211992299991222ca1111290092bba9002aaa21b92aabcc9229abbb01014335254fbcb5bbbb056b6510bbb8bbbbbbbbbdcbabbb99abcdaaabcbaaaabbba9abb1122a99929aa1112b91211122001b02a019b9aa2ca229aab29a90aa9000134222235cb05bbbb16bb6210bbb8bbbbcbbbbbddbbbb9a9abdb999acbbbaaaaabbbb2999aa9222992211a2011022a211ba11020c229aaa22bbba229a0292200054532234b015bbcd26bb6200bbb8bbbbddcbbbbcdfdb9a9bbdc9a92abbaaaabbbbaa99bb9992a99a1222211029a91220ba9229009229a2122abbba9200bb2001533252531102cdda56bc5201bbb8cbbbbcddfedbebbd99bdbcd9229aa992abbaa9aaabbba922aaaa1122c110219b11111b212b00999291129222bbbb011a5101453552231112db906ddd5101bbb7dddcbbbcdbbbdbdeabacace1922299aa9999c929bbbc92ab9aa90112bc200119100100002ab29a992119baa92bbb1100551035555225010191116ccb5102ddd7bbcdbbbbbbbbbadebaababeb212929991122cc21cbbb9bbba999001199ba00120100921092aaaaa92129bbb912bb1010331044432125110111016ba05102bcc7bbbbbbbbdbbbaabcaa99bbeb19a999921299bca1ca9ababc9999a111129a9201a92a1000a921abba212abbba110b0110251152222125101101105a0c2102bbb6bbbbbbbbccbb9aaba999bcec9bbaaa921129aba09999abac299a9a1111222aa1a1b9221ba992bbbb119a1bba1111101112011111211510001110b1dccbacbbb6bbbbbbbbbdeb9baa9229bcdcbbb992290112ab902222baca999abb91a22aa91a1a91911aa922bbbb129a102a11111001990119aa121201111011a2cbba2bbbcabbbbbbbb911b2aba21babbdcbba9a92a01299b202921b9c229299ab221222199091921099229bbba129a010101110212a2919cba12120111001022bb922abcb2bbbbcbbb112b929a11a1bacc999a222900119a109910a9b2222929a90001102102020002001110101010201020011211a999bccb011011110011299a2222bca2bbbb9abbbaab122a1192aabc9a9a92220012a200921029b2122912921000100011111100100011010112121221202090aa2abccb11011111111019a91212bc92bbbbccbbabbb21221119abbbbbba212a00110000220099ab112900210111111111100120211021211111111212129229aa99accc11120111adfd12901211bc21bbbbabbb299a10221111abcbbbba11abfba9009da2009992119900101011111101010012edc91ade211291111221a112ba92dfdb1111d101cfdb112b11110b21bbbbbbbb9aab11291111bbdabba911bbefa9299b2101a99211991000101111212011b011eeedceee192119122192a921b991cefb110d0001deb0129b11110a21bba0bbbb99bc10121111bae9bba911bbdfa2bcca1019aa92019a1110111110122211dc11ddeefdcc212c22201919a0299929bedb111b0111cdb0192a11119b92a200bbbb129a22111102aae2a99922aadea9cddb119baa22019a0111111211011111edc2bccdcbaa12ae922921912112baaaddca921199aabcc222122111cba91000bbbabbbb9abb11229ad1a92a99bbcdcacdcb19bca921009a2111101111101121dedbbbccba9b21cd1a2992129120cb9adcbbcbacbcddabba11001112bba9019dba20fffcbbbc12299bd1ba9aabbbcdbbccbb9abba92100aa1201111111129112cddc2abca9a992db20a12929a129cb99cbacccb9cccc9aba10011121baa90adcc001eeddbacf122b9bd1ba9baabbcbbbbba9abba99c201aa212122112011b212cddd22ab992299caa21a1a21912aba9a02bbbba9abbb299a00011120baa9accbc010ddbab2de2dfeabc1a99bbbab9aa9aaa99baa9e9901aa121112219200c911ccdd929a912299b92a21a192b922a92a11aba992aaaa211900001210aa99cbbb0000dba2dbcddfe2abba99aab9aa2299aa92cdb99fb902a9122102121920cb22bcdd292a292119b9122aa922bb119229012999219999211200001910aa92aaba000ad900a2cccee9abcb29a9999922299992dda92dfe12a92122209020a9db92abcd0a291a92a9a291120922ab92aa9a122921111222201102002900a991b99a100ccbc9bbbcbdeda9ba9a92929211229921c2222add19921212920a2202dca2aacd299911b99a992b2121a29aa2cbaa0a9c1111111110110a20a200b921baaba10babbdbbbabcdca9ab9a29212211122211992222192999a12119902110dcb200292920a12b229a29aa219a99b9ccba21ac11101111100109129100ba1299bbd10b9abcbba99abb99aba9991229001122101112921199aa0991022222210ab21111b101aa92a929a92b992929bacbba01ab10110111000012112201992299aac91a29aba9212aaa9a9b92aa1299000121001122292199a2209211a92aa2210a101290019aaa2b999aa299222ababbb9019a0010000000001211baa2aaab9999bcdb212a9219299929ab29aa229900019210ccba022129212200a22aaa0b911112a9100099ab99b92aba9aa91bb9aba902290000000000002121ccbbabcc22999bbc92111101112222992999222200112221cba9002c921004440000444400044400044400004444000444004444444444444444444444444444444444444444444444444444444444444444444444444444444444444444c044cddd4440ddc040cdc044cddd4440ddc040cd4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444ed04efff040dffed0defed04efff040dffed0def4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444fdb0ffefb0bdeffdbdfffdb0ffefb0bdeffdbdff444044444444444444444444444444444444444444444444444444444444444444444444444444444444444419c019b9c0c9b919c91919c019b9c0c9b919c919444044444444444444444444444444444444444444444444444444444444444444444444444444444444444411b011c1b0b1c1a1b1a1b1b0b1c1b0b1c1a1b1a14440444444444444444444444444444444444444444444444444444444444444444444444444444444444444efc0ed0dc0cf0defcfedefc0ed0dc0cf0defcfed4440444444444444444444444444444444444444444444444444444444444444444444444444444444444444cda0cdeda0adedcdadcdcda0cdeda0adedcdadcd444044444444444444444444444444444444444444444444444444444444444444444444444444444444444429042efe0409fe29092e29042efe0409fe29092e4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444c904c222040922c909c2c904c222040922c909c24444444444444444444444444444444444444444444444444444444444444444444444444444444444444444b044bded4440edb040bdb044bded4440edb040bd4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444044400004444000444000444000044440004440044444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444"
snd="36530600324c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060100003e0c3fa445d819c0158b1589158515841583158215811381138003800380538000000000000000000000000000000000000000000000000000000000000000000301000"
p,pd={128,129,1,13,12,131,3,139,11,2,136,8,137,9,10,7},{0,0,0,9,10,2,9,10,11,1,2,9,10,10,11,11}

menus,menu_i={
{"wHICH ePISODE?",_maps_label,sel=1},
{"sELECT sKILL lEVEL",
{
  "i AM TOO YOUNG TO DIE",
  "hEY, NOT TOO ROUGH",
  "hURT ME PLENTY",
  "uLTRA-vIOLENCE"
},sel=2}},0

function _init()
	cls()
	endstate,anm_ttl=peek(0x4300),0
	if (endstate>0) then
    menus[1].sel=peek(0x4301)
    menus[2].sel=peek(0x4302)
    if endstate==2 then
      if menus[1].sel==#menus[1][2] then
        endstate=3
      end
    end
	end
	memset(0x4300,0,0x1b00)
	local addr=0x4300
	for i=0,#gfx\4-1 do
		local b=tonum("0x"..sub(gfx,i*4+1,i*4+4))
    poke2(addr+i*2,b)
    if (i==2047)addr=-0x1000
  end
  addr=0x3200
  for i=0,#snd\4-1 do
		local b=tonum("0x"..sub(snd,i*4+1,i*4+4))
    poke2(addr+i*2,b)
	end
end

function _update60()
  anm_ttl=(anm_ttl+1)%48
  if load_ttl then
    load_ttl-=1
    if load_ttl==0 then
      -- load game "group" cart
      local sel=menus[1].sel
      load(mod_name.."_".._maps_group[sel]..".p8",nil,menus[2].sel..","..sel)
    end
  else
    if menu_i>0 then
      if btnp(2) then
        menus[menu_i].sel-=1
        sfx(0)
      end
      if btnp(3) then
        menus[menu_i].sel+=1
        sfx(0)
      end
      menus[menu_i].sel=mid(1,#menus[menu_i][2],menus[menu_i].sel)
    end
    if btnp(4) or btnp(5) then
      if(menu_i>0)sfx(1)
      menu_i+=1
      if menu_i>#menus or endstate==2 then
        poke(0x4300,1)
        for i=1,#menus do
          poke(0x4300+i,menus[i].sel)
        end
        load_ttl=30
      end
    end
  end
end

function _draw()
  cls()
  memcpy(0x6000,0x4300,0x1000)
  sspr(0,0,128,64,0,64)
  if load_ttl then
    local s="eNTERING "..menus[1][2][menus[1].sel]
    printb(s,63-#s*2,80,15)
  elseif menu_i==0 then
    if endstate==1 then
      printb("game over",47,96,15)
    elseif endstate==2 then
      printb("next level",45,96,15)
    elseif endstate==3 then
      printb("victory",49,96,15)
    else
      printb("press 🅾️",47,121,15)
    end
  else
    -- dark menu background
    for i=1,16 do
      pal(i-1,pd[i])
    end
    sspr(12,0,104,19+#menus[menu_i][2]*9,12,64)
    pal()
    
    -- title
    printb(menus[menu_i][1],63-#menus[menu_i][1]*2,69,14)

    -- selection marker
    rectfill(18,70+menus[menu_i].sel*9,113,79+menus[menu_i].sel*9,1)
    palt(0,false)
    palt(4,true)
    sspr(anm_ttl\12*10,64,11,12,14,68+menus[menu_i].sel*9)
    palt()

    -- menu items
    for i=1,#menus[menu_i][2] do
      printb(menus[menu_i][2][i],28,72+i*9,15)
    end
    
    printb("@fsouchu",2,121,4)
    printb("@gamecactus",83,121,4)
  end
  for i=1,16 do
    pal(i-1,p[i],1)
  end
end

function printb(s,x,y,c,bgc)
  bgc=bgc or 0
  print(s,x,y+1,bgc)
  print(s,x,y,c)
end